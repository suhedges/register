<style>
/* General form styling */
body {
    font-family: 'Arial', sans-serif;
    background-color: #f4f4f4;
    color: #333;
    margin: 0;
    padding: 20px;
    box-sizing: border-box;
}

#cimm_wizardReg {
    background-color: #ffffff;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    padding: 20px;
    max-width: 800px;
    margin: 0 auto;
}

.multiTabHeading {
    display: flex;
    justify-content: space-between;
    list-style-type: none;
    padding: 0;
    margin-bottom: 20px;
    border-bottom: 2px solid #ddd;
}

.multiTabHeading li {
    flex: 1;
}

.multiTabHeading li a {
    display: block;
    padding: 10px;
    background-color: #007bff;
    color: white;
    text-align: center;
    border-radius: 8px 8px 0 0;
    text-decoration: none;
}

.multiTabHeading li a:hover {
    background-color: #0056b3;
}

.multiTabContent {
    background-color: #ffffff;
    padding: 20px;
    border-radius: 0 0 8px 8px;
    border: 1px solid #ddd;
}

.form-group {
    margin-bottom: 15px;
}

.form-group label {
    font-weight: bold;
    display: block;
    margin-bottom: 5px;
}

.form-group input,
.form-group select {
    width: 100%;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    box-sizing: border-box;
}

.form-group input:focus,
.form-group select:focus {
    border-color: #007bff;
    outline: none;
    box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
}

button {
    display: inline-block;
    padding: 10px 20px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
}

button:hover {
    background-color: #0056b3;
}

.customCheckBox input {
    margin-right: 10px;
}

.customRadioBtn input {
    margin-right: 10px;
}

/* Styling for error messages */
.form-group input[data-error]:invalid,
.form-group select[data-error]:invalid {
    border-color: red;
}

.form-group input[data-error]:invalid + span,
.form-group select[data-error]:invalid + span {
    color: red;
}

/* Styling for hidden sections */
.hideMe {
    display: none;
}

.hidden {
    display: none;
}

.alert {
    color: red;
    margin-bottom: 20px;
}
</style>

<div id="cimm_wizardReg">
  <form id="regForm" action="CommercialReg.action" method="post" onsubmit="submitThisForm(this); return false;" data-hideBlock="cimm_wizardReg" data-recaptcha="$captchaVal">
    <div class="multiTab" id="wizardReg">
      <ul class="multiTabHeading clearAfter">
        <li>
          <a href="#step-1">
            <span class="stepDesc">
              <b>1</b>
              <span class="blockElement mTop-2">Registration Info</span>
            </span>
          </a>
        </li>
        <li>
          <a href="#step-2">
            <span class="stepDesc">
              <b>2</b>
              <span class="blockElement mTop-2">Business Address</span>
            </span>
          </a>
        </li>
        <li>
          <a href="#step-3">
            <span class="stepDesc">
              <b>3</b>
              <span class="blockElement mTop-2">Create Password</span>
            </span>
          </a>
        </li>
      </ul>
      <div class="multiTabContent">
        <div id="step-1">
          <p class="regBlockHeading visible-xs">Registration Information</p>
          <p class="mBottom-4">
            <label class="customRadioBtn mRight-4">
              <input type="radio" name="b2bAccount" value="yes" id="b2bYes" title="Business Use" checked>
              <span>Yes</span>
            </label>
            <label class="customRadioBtn">
              <input type="radio" name="b2bAccount" value="no" id="b2bNo" title="Personal Use">
              <span>No</span>
            </label>
          </p>
          <p class="mBottom-4 required">* Denotes Required Field</p>
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="firstName">$locale.get("form.label.firstName") <span class="text-danger">*</span></label>
                <input type="text" name="firstName2AB" id="firstName" placeholder="$locale.get('form.label.firstName')" data-type="text" data-required="Y" data-error="$locale.get('form.user.firstName.notEmpty')" class="form-control"/>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="lastName">$locale.get("form.label.lastName") <span class="text-danger">*</span></label>
                <input type="text" name="lastName2AB" id="lastName" placeholder="$locale.get('form.label.lastName')" data-type="text" data-required="Y" data-error="$locale.get('form.user.lastName.notEmpty')" class="form-control"/>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <label for="emailAddress">Work $locale.get("form.label.email") <span class="text-danger">*</span></label>
                <input type="text" name="emailAddress2AB" id="emailAddress" placeholder="$locale.get('form.label.email')" data-type="email" data-required="Y" data-error="$locale.get('form.user.address.emailId.notEmpty')" data-invalid="$locale.get('form.user.address.emailId.invalid')" class="form-control"/>
                <div class="mTop-2">
                  <label class="customCheckBox">
                    <input type="checkbox" checked="checked" name="" id="newsLetterSub2A" title="News Letter"/>
                    <span>Email me special marketing promotions and updates.</span>
                  </label>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-2">
              <div class="form-group">
                <label for="phCode">Country Code <span class="text-danger">*</span></label>
                <select id='phCode' data-type="select" data-required="Y" data-error="Select Country Code" class="form-control">
                  <option value="+1">+1</option>
                </select>
              </div>
            </div>
            <div class="col-md-5">
              <div class="form-group">
                <label for="phoneNo">$locale.get("form.label.phone") <span class="text-danger">*</span></label>
                <input type="tel" name="phoneNo2AB" id="phoneNo" class="formatPhoneNumber form-control" placeholder="$locale.get('form.label.phone')" data-type="number" data-required="Y" data-error="$locale.get('form.user.address.phoneNumber.notEmpty')" data-invalid="$locale.get('form.user.address.phoneNumber.invalid')" onkeypress="return IsNumeric(event)"/>
              </div>
            </div>
            <div class="col-md-5">
              <div class="form-group">
                <label for="extension">Extension</label>
                <input type="tel" name="extension2AB" id="extension" class="formatPhoneNumber form-control" placeholder="Extension" data-type="number" onkeypress="return IsNumeric(event)"/>
              </div>
            </div>
          </div>
        </div>

        <!-- I am a current Customer but need an online account -->
        <div id="currentCustomerForm" class="form-section active">
          <h3>I am a current Customer but need an online account</h3>
          <!-- Insert relevant form fields for current customer here -->
        </div>

        <!-- New retail customer account -->
        <div id="newCustomerForm" class="form-section">
          <h3>New Retail Customer Account</h3>
          <!-- Insert relevant form fields for new customer here -->
        </div>
      </div>
    </div>

    <!-- Request B2B Account Button -->
    <div id="requestB2BButton" class="form-section">
      <button type="button" onclick="showRequestBusinessAccount()">Request B2B Account</button>
    </div>

    <!-- Request Business Account Form -->
    <div id="requestBusinessAccountForm" class="form-section">
      <h3>Request Business Account</h3>
      <!-- Insert relevant form fields for requesting B2B account here -->
    </div>

    <input type="hidden" name="isAuthorizationRequest" id="isAuthorizationRequest" value="N" />
    <input type="hidden" name="locUser1B" id="locUser1B" value="N" />
  </form>
</div>

<div class="hideMe" id="registrationComplete">
  <h4>$!afterRegistration</h4>
  <br />
  <div class="afterRegInstructions">
    <p>
      <em class="fa fa-lg fa-info"></em>
      &nbsp;$locale.get("register.label.WelcomeTo") $siteDisplayName, $locale.get("register.message.registerSuccessMessage")
    </p>
    <br />
    <div class="clear"></div>
    <a href='$locale.get("website.url.Welcome")' class="button">
      $locale.get("product.heading.home")
    </a>
    <span>
      <a href="javascript:void(0);" onclick="showLogin();" class="button">
        $locale.get("product.button.login")
      </a>
    </span>
    <div class="clear"></div>
    <br />
  </div>
  <div class="clear"></div>
  <br />
</div>

<div class="hideMe" id="retailRegistrationComplete">
  <h4>$!afterRegistration</h4>
  <br />
  <div class="afterRegInstructions">
    <p>
      <em class="fa fa-lg fa-info"></em>
      &nbsp;$locale.get("register.label.WelcomeTo") $siteDisplayName, $locale.get("register.message.retailRegisterSuccessMessage")
    </p>
    <br />
    <div class="clear"></div>
    <a href='$locale.get("website.url.Welcome")' class="button">
      $locale.get("product.heading.home")
    </a>
    <span id="RegCompleteLoginConti">
      <a href="javascript:void(0);" onclick="showLogin();" class="button">
        $locale.get("product.button.login")
      </a>
    </span>
    <div class="clear"></div>
    <br />
  </div>
  <div class="clear"></div>
  <br />
</div>

<!-- Dom Tab end -->
<div id="successBlock" class="hideMe">
  <a href="/" class="button">
    $!locale.get('product.heading.home')
  </a>
</div>

<script>
var webThemes = $("#webThemePath").val();
var cdnSiteJsPath = $("#cdnSiteJsPath").val();
var cdnModuleJsPath = $("#cdnModuleJsPath").val();
var cdnPluginJsPath = $("#cdnPluginJsPath").val();
$.getScript(cdnPluginJsPath+'/multiTab.min.js', function(){
    $('#cimm_regBlock').multiTab();
    $('#wizardReg').multiTab({
        wizard: true,
        transitionEffect: 'fade',
        disableAllSteps: true,
        onLeaveStep: regWizard.leaveAStepCallback,
        onShowStep: regWizard.showAStepCallback,
        nextLable: 'Continue &nbsp;<i class="far fa-lg fa-arrow-alt-circle-right"></i>',
        previousLabel: '<i class="far fa-lg fa-arrow-alt-circle-left"></i>&nbsp; Previous',
        FinishLabel: 'Submit &nbsp;<i class="far fa-lg fa-check-circle"></i>',
        hideButtonsOnDisabled: true,
        onFinish: regWizard.submitRegisterRequest,
        accordionBrake: 310,
    });
    $('.buttonWrap').prepend('<a href="/" class="btnPrevious cancelBtn mLeft-3 pull-left"><i class="far fa-lg fa-times-circle"></i>&nbsp; Cancel</a>');
});

if (document.getElementById("countryName2A")) {
    var countryName2A = new initCountry({
        country: "US",
        selectorID: "countryName2A",
        defaultSelect: true
    });
}
if (document.getElementById("countryName2B")) {
    var countryName2AB = new initCountry({
        country: "USA",
        selectorID: "countryName2B",
        defaultSelect: true
    });
}
if (document.getElementById("countryName")) {
    var countryName = new initCountry({
        country: "USA",
        selectorID: "countryName",
        defaultSelect: true
    });
}
var userLogin = $("#userLogin").val();
var path = window.location.hostname;
if (userLogin != null && userLogin == "true") {
    window.location.href = "/products";
}

function changeForm(id) {
    $('.alert').remove();
    $("#formWraper").find("form").hide();
    var formId = id.value;
    $(formId).show();
}

function RefreshPageForInternationalUser2AB() {
    if ($('#chkInternationalUser2AB').is(':checked')) {
        $("#locUser2AB").val("Y");
        countryName2AB = new initCountry({
            country: "USA, CA",
            selectorID: "countryName2AB",
            defaultSelect: true
        });
    } else {
        countryName2AB = new initCountry({
            country: "USA",
            selectorID: "countryName2AB",
            defaultSelect: true
        });
        $("#locUser2AB").val("N");
    }
}

var regWizard = {};

(function() {
    regWizard.showAStepCallback = function(obj) {
        var step_num = obj.attr('index');
    };

    regWizard.leaveAStepCallback = function(obj, context) {
        var step_num = obj.attr('index');
        return (context.fromStep < context.toStep) ? submitThisForm("#step-" + step_num) : true;
    };

    regWizard.submitRegisterRequest = function(obj) {
        if (submitThisForm("#step-3")) {
            $("#regForm").submit();
        }
    };
})();

$(document).ready(function() {
    $('input[name="b2bAccount"]').change(function() {
        if ($(this).val() === 'yes') {
            $('#currentCustomerForm').addClass('active');
            $('#newCustomerForm').removeClass('active');
            $('#requestB2BButton').removeClass('active');
            $('#requestBusinessAccountForm').removeClass('active');
        } else if ($(this).val() === 'no') {
            $('#currentCustomerForm').removeClass('active');
            $('#newCustomerForm').addClass('active');
            $('#requestB2BButton').addClass('active');
            $('#requestBusinessAccountForm').removeClass('active');
        }
    });

    window.showRequestBusinessAccount = function() {
        $('#requestBusinessAccountForm').addClass('active');
        $('#newCustomerForm').removeClass('active');
        $('#requestB2BButton').removeClass('active');
    };
});
</script>
